<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="diseñoiniciar.css">
	
	<title></title>
	<style>
    #btnEnter { display: none; }
  </style>

</head>
<body>
 <img src="imagen1.JPG" class="imagen" alt="Imagen de bienvenida">
	<div class="formulario">
	<h1>
		Introduzca los datos
	</h1>
	<div class="contenedor">
		
<form method="post" action="registrar2.php" onsubmit="mostrarBotonEnter(event)">

       
       <div class="cajas">
		<label for="matricula">Matricula</label>
		<input type="text" name="matricula" id="matricula" required>
		</div>

		 <div class="cajas">
		<label for="grupo">grupo</label>
		<input type="text" name="grupo" id="grupo" required>
		</div>
		
		 <div class="cajas">
		<label for="nombre">nombre</label>
		<input type="text" name="nombre" id="nombre" required>
		</div>

		 <div class="cajas">
		<label for="apellidos">apellidos</label>
		<input type="text" name="apellidos" id="apellidos" required>
		</div>

		 <div class="cajas">
		<label for="edad">edad</label>
		<input type="text" name="edad" id="edad" required>
		</div>

		 <div class="cajas">
		<label for="contraseña">contraseña</label>
		<input type="password" name="contraseña" id="contraseña" required>

		</div>

		 <div class="cajas">
		<label for="confirmación">confirmacion</label>
		<input type="password" name="confirmación" id="confirmación" required>

		</div>

		 <div class="cajas">
		<label for="fecha">fecha</label>
		<input type="text" name="fecha" id="fecha" required>
		</div>
		
		</div>

		<center>
		<button type="submit">registrar</button>
      <button type="button" id="btnEnter" onclick="window.location.href='conoce.html'">Enter</button>

		<button type="reset">cancelar</button></center>

	</form>
	</div>

	 <script>
function mostrarBotonEnter(event) {
  event.preventDefault(); // Evita envío tradicional
  const form = event.target;
  const formData = new FormData(form);

  fetch('registrar2.php', {
    method: 'POST',
    body: formData
  })
  .then(response => response.text())
  .then(text => {
    console.log('Respuesta del servidor:', text);

    // Aquí puedes ajustar según lo que devuelve registrar2.php
    if (text.toLowerCase().includes('ok')) {
      document.getElementById('btnEnter').style.display = 'inline-block';
      alert('¡Ingreso exitoso! Ahora puedes presionar "Enter".');
    } else {
      alert('Error al registrar: ' + text);
    }
  })
  .catch(error => {
    console.error('Error en fetch:', error);
    alert('Error al enviar el formulario.');
  });
}
</script>



</body>
</html>